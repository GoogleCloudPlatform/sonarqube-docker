# Copyright (C) 2018 Google LLC
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU Lesser General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.

_variables:
  gpg: &gpg F1182E81C792928921DBCAB4CFCA4A29D26468DE
  gosu: &gosu
    version: '1.10'
    gpg: B42F6819007F00F88E364FD4036A9C25BF357DD4

versions:
  - dir: '8/debian9/8.0'
    repo: sonarqube8
    templateSubDir: '8'
    templateArgs:
      exporter: 'true'
      c2dRelease: '8.0.0'
    tags:
      - '8.0-debian9'
      - '8-debian9'
      - '8.0'
      - '8'
      - 'latest'
    from: gcr.io/google-appengine/debian9
    packages:
      gosu: *gosu
      sonarqube:
        version: '8.0'
        gpg: *gpg
  - dir: '7/debian9/7.9'
    repo: sonarqube7
    templateSubDir: '8'
    templateArgs:
      exporter: 'true'
      c2dRelease: '7.9.0'
    tags:
      - '7.9-debian9'
      - '7-debian9'
      - '7.9'
      - '7'
      - 'latest'
    from: gcr.io/google-appengine/debian9
    packages:
      gosu: *gosu
      sonarqube:
        version: '8.0'
        gpg: *gpg
  - dir: '7/debian9/7.8'
    repo: sonarqube7
    templateSubDir: '7'
    templateArgs:
      exporter: 'true'
      c2dRelease: '7.8.0'
    tags:
      - '7.8-debian9'
      - '7.8'
    from: gcr.io/google-appengine/openjdk
    packages:
      gosu: *gosu
      sonarqube:
        version: '7.8'
        gpg: *gpg
  - dir: '7/debian9/7.7'
    repo: sonarqube7
    templateSubDir: '7'
    templateArgs:
      exporter: 'true'
      c2dRelease: '7.7.0'
    tags:
      - '7.7-debian9'
      - '7.7'
    from: gcr.io/google-appengine/openjdk
    packages:
      gosu: *gosu
      sonarqube:
        version: '7.7'
        gpg: *gpg
  - dir: '7/debian9/7.6'
    repo: sonarqube7
    templateSubDir: '7'
    templateArgs:
      exporter: 'true'
      c2dRelease: '7.6.0'
    tags:
      - '7.6-debian9'
      - '7.6'
    from: gcr.io/google-appengine/openjdk
    packages:
      gosu: *gosu
      sonarqube:
        version: '7.6'
        gpg: *gpg

cloudbuild:
  enable_parallel: false
